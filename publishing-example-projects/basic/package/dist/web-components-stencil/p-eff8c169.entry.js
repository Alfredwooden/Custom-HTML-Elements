import{r as o,h as r,c as t,g as i,H as n}from"./p-8e2c1a2a.js";let e=class{constructor(r){o(this,r)}render(){return r("div",{class:"lds-ring"},r("div",null),r("div",null),r("div",null),r("div",null))}};e.style=".lds-ring{display:inline-block;position:relative;width:80px;height:80px}.lds-ring div{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid var(--color-primary, black);border-radius:50%;animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:var(--color-primary, black) transparent transparent transparent}.lds-ring div:nth-child(1){animation-delay:-0.45s}.lds-ring div:nth-child(2){animation-delay:-0.3s}.lds-ring div:nth-child(3){animation-delay:-0.15s}@keyframes lds-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";let s=class{constructor(r){o(this,r),this.ucSymbolSelected=t(this,"ucSymbolSelected",7),this.searchResults=[],this.loading=!1}onFindStocks(o){o.preventDefault(),this.loading=!0,fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${this.stockNameInput.value}&apikey=14BE6RO33E11BX62`).then((o=>o.json())).then((o=>{this.searchResults=o.bestMatches.map((o=>({name:o["2. name"],symbol:o["1. symbol"]}))),console.log(this.searchResults),this.loading=!1})).catch((o=>{console.log(o),this.loading=!1}))}onSelectSymbol(o){this.ucSymbolSelected.emit(o)}render(){let o=r("ul",null,this.searchResults.map((o=>r("li",{onClick:this.onSelectSymbol.bind(this,o.symbol)},r("strong",null,o.symbol)," - ",o.name))));return this.loading&&(console.log("asd"),o=r("uc-spinner",null)),[r("form",{onSubmit:this.onFindStocks.bind(this)},r("input",{id:"stock-symbol",ref:o=>this.stockNameInput=o}),r("button",{type:"submit"},"Find")),o]}};s.style=":host{font-family:sans-serif;border:2px solid var(--color-primary, black);margin:2rem;padding:1rem;display:block;width:20rem;max-width:100%}form input{font:inherit;color:#3b013b;padding:0.15rem 0.25rem;display:block;margin-bottom:0.5rem}form input:focus,form button:focus{outline:none}button{font:inherit;padding:0.25rem 0.5rem;border:1px solid var(--color-primary, black);background-color:var(--color-primary, black);color:var(--color-primary-inverse, white);cursor:pointer}button:hover,button:active{background-color:var(--color-primary-highlight, grey);border-color:var(--color-primary-highlight, grey)}form button:disabled{background-color:#cccccc;border:#cccccc;color:var(--color-primary-inverse, white);cursor:not-allowed}ul{margin:0;padding:0;list-style:none}li{margin:0.25rem 0;padding:0.25rem;border:1px solid #ccc}li:hover,li:active{cursor:pointer;background-color:var(--color-primary, black);color:var(--color-primary-inverse, white)}";let l=class{constructor(r){o(this,r),this.stockInputValid=!1,this.loading=!1}stockSymbolChanged(o,r){o!==r&&(this.stockUserInput=o,this.stockInputValid=!0,this.fetchStockPrice(o))}onUserInput(o){this.stockUserInput=o.target.value,this.stockInputValid=""!==this.stockUserInput.trim()}onFetchStockPrice(o){o.preventDefault(),this.stockSymbol=this.stockInput.value}componentWillLoad(){console.log("Component will load"),console.log(this.stockSymbol)}componentDidLoad(){console.log("Component did load"),this.stockSymbol&&(this.stockUserInput=this.stockSymbol,this.stockInputValid=!0,this.fetchStockPrice(this.stockSymbol))}componentWillUpdate(){console.log("Component will update")}componentDidUpdate(){console.log("Component did update")}disconnectedCallback(){console.log("Component did unload")}onStockSymbolSelected(o){console.log("Stock symbol selected: "+o.detail),o.detail&&o.detail!==this.stockSymbol&&(this.stockSymbol=o.detail)}fetchStockPrice(o){this.loading=!0,fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${o}&apikey=14BE6RO33E11BX62`).then((o=>{if(200!==o.status)throw new Error("Invalid!");return o.json()})).then((o=>{if(!o["Global Quote"]["05. price"])throw new Error("Invalid symbol");this.error=null,this.fetchedPrice=+o["Global Quote"]["05. price"],this.loading=!1})).catch((o=>{this.error=o.message,this.fetchedPrice=null,this.loading=!1}))}hostData(){return{class:this.error?"error":""}}__stencil_render(){let o=r("p",null,"Please enter a symbol!");return this.error&&(o=r("p",null,this.error)),this.fetchedPrice&&(o=r("p",null,"Price: $",this.fetchedPrice)),this.loading&&(o=r("uc-spinner",null)),[r("form",{onSubmit:this.onFetchStockPrice.bind(this)},r("input",{id:"stock-symbol",ref:o=>this.stockInput=o,value:this.stockUserInput,onInput:this.onUserInput.bind(this)}),r("button",{type:"submit",disabled:!this.stockInputValid||this.loading},"Fetch")),r("div",null,o)]}get el(){return i(this)}static get watchers(){return{stockSymbol:["stockSymbolChanged"]}}render(){return r(n,this.hostData(),this.__stencil_render())}};l.style=":host{font-family:sans-serif;border:2px solid #3b013b;margin:2rem;padding:1rem;display:block;width:20rem;max-width:100%}:host(.error){border-color:red}form input{font:inherit;color:#3b013b;padding:0.15rem 0.25rem;display:block;margin-bottom:0.5rem}form input:focus,form button:focus{outline:none}button{font:inherit;padding:0.25rem 0.5rem;border:1px solid #3b013b;background-color:#3b013b;color:white;cursor:pointer}button:hover,button:active{background-color:#750175;border-color:#750175}form button:disabled{background-color:#dddddd;border:#dddddd;color:white;cursor:not-allowed}";export{e as uc_spinner,s as uc_stock_finder,l as uc_stock_price}